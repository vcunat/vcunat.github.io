<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Fractal Image Compressor: modules/stdEncoder.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>modules/stdEncoder.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef STDENCODER_HEADER_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define STDENCODER_HEADER_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include "../headers.h"</span>
<a name="l00005"></a>00005 
<a name="l00007"></a>00007 
<a name="l00022"></a><a class="code" href="classMStdEncoder.html">00022</a> <span class="keyword">class </span><a class="code" href="classMStdEncoder.html" title="Standard square encoder - uses affine color transformation for one-domain to one-range...">MStdEncoder</a>: <span class="keyword">public</span> <a class="code" href="structISquareEncoder.html" title="Interface for square encoders - maintaining mappings from square domains to square...">ISquareEncoder</a> {
<a name="l00023"></a>00023     DECLARE_debugModule;
<a name="l00024"></a>00024 <span class="keyword">public</span>:
<a name="l00025"></a>00025     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> MaxLinCoeff_none= 0;
<a name="l00026"></a>00026 
<a name="l00027"></a>00027     DECLARE_TypeInfo( <a class="code" href="classMStdEncoder.html" title="Standard square encoder - uses affine color transformation for one-domain to one-range...">MStdEncoder</a>, <span class="stringliteral">"Standard encoder"</span>
<a name="l00028"></a>00028     , <span class="stringliteral">"Classic encoder supporting one-domain to one-range mappings"</span>
<a name="l00029"></a>00029     , {
<a name="l00030"></a>00030         label:  <span class="stringliteral">"Best-match predictor"</span>,
<a name="l00031"></a>00031         desc:   <span class="stringliteral">"Module that chooses which domain blocks\n"</span>
<a name="l00032"></a>00032                 <span class="stringliteral">"should be tried for a range block"</span>,
<a name="l00033"></a>00033         type:   settingModule&lt;IStdEncPredictor&gt;()
<a name="l00034"></a>00034     }, {
<a name="l00035"></a>00035         label:  <span class="stringliteral">"Rotations and symmetries"</span>,
<a name="l00036"></a>00036         desc:   <span class="stringliteral">"Can the projections include rotations and symmetries?"</span>,
<a name="l00037"></a>00037         type:   <a class="code" href="classModule.html#0c624ee5825cb42160246738df173e84" title="Creates a choose-one-of setting shown as a combo-box.">settingCombo</a>(<span class="stringliteral">"identity only\nclassic 8"</span>,1)
<a name="l00038"></a>00038     }, {
<a name="l00039"></a>00039         label:  <span class="stringliteral">"Color value inversion"</span>,
<a name="l00040"></a>00040         desc:   <span class="stringliteral">"Can the projections have negative linear coefficients?"</span>,
<a name="l00041"></a>00041         type:   <a class="code" href="classModule.html#0c624ee5825cb42160246738df173e84" title="Creates a choose-one-of setting shown as a combo-box.">settingCombo</a>(<span class="stringliteral">"not allowed\nallowed"</span>,1)
<a name="l00042"></a>00042     }, {
<a name="l00043"></a>00043         label:  <span class="stringliteral">"Coefficient of big-scale penalization"</span>,
<a name="l00044"></a>00044         desc:   <span class="stringliteral">"How much will big linear coefficients in color-value\n"</span>
<a name="l00045"></a>00045                 <span class="stringliteral">"projections be penalized? (select zero to disable it)"</span>,
<a name="l00046"></a>00046         type:   <a class="code" href="classModule.html#adab4ec40942f527ec59797f48b4a452" title="Creates a bounded real-number setting.">settingFloat</a>(0,0.25,4)
<a name="l00047"></a>00047     }, {
<a name="l00048"></a>00048         label:  <span class="stringliteral">"Take quantization errors into account"</span>,
<a name="l00049"></a>00049         desc:   <span class="stringliteral">"Selecting yes will result in slower but more precise encoding"</span>,
<a name="l00050"></a>00050         type:   <a class="code" href="classModule.html#0c624ee5825cb42160246738df173e84" title="Creates a choose-one-of setting shown as a combo-box.">settingCombo</a>(<span class="stringliteral">"no\nyes"</span>,1)
<a name="l00051"></a>00051     }, {
<a name="l00052"></a>00052         label:  <span class="stringliteral">"Maximum linear coefficient"</span>,
<a name="l00053"></a>00053         desc:   <span class="stringliteral">"The maximum absolute value of linear coefficients"</span>,
<a name="l00054"></a>00054         type:   <a class="code" href="classModule.html#adab4ec40942f527ec59797f48b4a452" title="Creates a bounded real-number setting.">settingFloat</a>(MaxLinCoeff_none,MaxLinCoeff_none,5.0)
<a name="l00055"></a>00055     }, {
<a name="l00056"></a>00056         label:  <span class="stringliteral">"Sufficient quotient of SE"</span>,
<a name="l00057"></a>00057         desc:   <span class="stringliteral">"After reaching this quotient of square error,\n"</span>
<a name="l00058"></a>00058                 <span class="stringliteral">"no other domain blocks will be tried"</span>,
<a name="l00059"></a>00059         type:   <a class="code" href="classModule.html#adab4ec40942f527ec59797f48b4a452" title="Creates a bounded real-number setting.">settingFloat</a>( 0, 0.05, 1 )
<a name="l00060"></a>00060     }, {
<a name="l00061"></a>00061         label:  <span class="stringliteral">"Quantization steps for average"</span>,
<a name="l00062"></a>00062         desc:   <span class="stringliteral">"The number (a power of two) of possible range block\n"</span>
<a name="l00063"></a>00063                 <span class="stringliteral">"average color values (real average will be rounded)"</span>,
<a name="l00064"></a>00064         type:   <a class="code" href="classModule.html#3db711d7f0e2504694730ae376429773" title="Creates a bounded integer setting, optionally shown as a power of two.">settingInt</a>(2,7,10,<a class="code" href="classModule.html#0baedffa9e50881da4626ec45dc23cc208f683b276a92487fd695f445261fbc1" title="integer from an interval prefixed with 2^">IntLog2</a>)
<a name="l00065"></a>00065     }, {
<a name="l00066"></a>00066         label:  <span class="stringliteral">"Quantization steps for deviation"</span>,
<a name="l00067"></a>00067         desc:   <span class="stringliteral">"The number (a power of two) of possible range block\n"</span>
<a name="l00068"></a>00068                 <span class="stringliteral">"standard color value deviations"</span>,
<a name="l00069"></a>00069         type:   <a class="code" href="classModule.html#3db711d7f0e2504694730ae376429773" title="Creates a bounded integer setting, optionally shown as a power of two.">settingInt</a>(2,6,10,<a class="code" href="classModule.html#0baedffa9e50881da4626ec45dc23cc208f683b276a92487fd695f445261fbc1" title="integer from an interval prefixed with 2^">IntLog2</a>)
<a name="l00070"></a>00070     }, {
<a name="l00071"></a>00071         label:  <span class="stringliteral">"The codec for averages"</span>,
<a name="l00072"></a>00072         desc:   <span class="stringliteral">"The module that will code and decode\n"</span>
<a name="l00073"></a>00073                 <span class="stringliteral">"average color values of range blocks"</span>,
<a name="l00074"></a>00074         type:   settingModule&lt;IIntCodec&gt;()
<a name="l00075"></a>00075     }, {
<a name="l00076"></a>00076         label:  <span class="stringliteral">"The codec for deviations"</span>,
<a name="l00077"></a>00077         desc:   <span class="stringliteral">"The module that will code and decode standard\n"</span>
<a name="l00078"></a>00078                 <span class="stringliteral">"deviations of color values of range blocks"</span>,
<a name="l00079"></a>00079         type:   settingModule&lt;IIntCodec&gt;()
<a name="l00080"></a>00080     } )
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="keyword">protected</span>:
<a name="l00084"></a><a class="code" href="classMStdEncoder.html#fd31ddd3cb314d50b6bc0746b4bb9e7e">00084</a>     <span class="keyword">enum</span> <a class="code" href="classMStdEncoder.html#fd31ddd3cb314d50b6bc0746b4bb9e7e" title="Indices for settings.">Settings</a> { ModulePredictor, AllowedRotations, AllowedInversion, BigScaleCoeff
<a name="l00085"></a>00085     , AllowedQuantError, MaxLinCoeff, SufficientSEq, QuantStepLog_avg, QuantStepLog_dev
<a name="l00086"></a>00086     , ModuleCodecAvg, ModuleCodecDev };
<a name="l00087"></a>00087 <span class="comment">//  Settings-retieval methods</span>
<a name="l00088"></a>00088     <span class="keywordtype">float</span> settingsFloat(<a class="code" href="classMStdEncoder.html#fd31ddd3cb314d50b6bc0746b4bb9e7e" title="Indices for settings.">Settings</a> index)
<a name="l00089"></a>00089         { <span class="keywordflow">return</span> <a class="code" href="classModule.html#05a8665b709707811945fa29714c2e00" title="The current setting values of this Module.">settings</a>[index].<a class="code" href="structModule_1_1SettingItem.html#71a46105fdddba87d6fcc3f18648a608" title="The setting value.">val</a>.<a class="code" href="unionModule_1_1SettingValue.html#61257c78151335f2985193130565aebe" title="Setting value for real-number type (see Module::ChoiceType).">f</a>; }
<a name="l00090"></a>00090     <a class="code" href="structIStdEncPredictor.html" title="Interface for domain-range mapping predictor generator for MStdEncoder.">IStdEncPredictor</a>* modulePredictor()
<a name="l00091"></a>00091         { <span class="keywordflow">return</span> debugCast&lt;IStdEncPredictor*&gt;(<a class="code" href="classModule.html#05a8665b709707811945fa29714c2e00" title="The current setting values of this Module.">settings</a>[ModulePredictor].<a class="code" href="structModule_1_1SettingItem.html#17f621f90a4080f17bc1db4e60f26670" title="Pointer to the connected module (if type is Module::ModuleCombo).">m</a>); }
<a name="l00092"></a>00092     <a class="code" href="structIIntCodec.html" title="Integer sequences (de)coder interface.">IIntCodec</a>* moduleCodec(<span class="keywordtype">bool</span> forAverage) {
<a name="l00093"></a>00093         <span class="keywordflow">return</span> debugCast&lt;IIntCodec*&gt;
<a name="l00094"></a>00094         ( <a class="code" href="classModule.html#05a8665b709707811945fa29714c2e00" title="The current setting values of this Module.">settings</a>[ forAverage ? ModuleCodecAvg : ModuleCodecDev ].<a class="code" href="structModule_1_1SettingItem.html#17f621f90a4080f17bc1db4e60f26670" title="Pointer to the connected module (if type is Module::ModuleCombo).">m</a> );
<a name="l00095"></a>00095     }
<a name="l00096"></a>00096 
<a name="l00098"></a>00098     <span class="keyword">struct </span>EncodingInfo;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="keyword">public</span>:
<a name="l00101"></a>00101     <span class="keyword">typedef</span> LevelPoolInfos  ::value_type    PoolInfos;
<a name="l00102"></a>00102     <span class="keyword">typedef</span> <a class="code" href="structISquareRanges.html#8cfb182babcaf4ca9fa3e494d90c4240" title="List of range nodes (pointers).">ISquareRanges	::RangeList</a>       RangeList;
<a name="l00103"></a>00103     <span class="keyword">typedef</span> ISquareDomains  ::Pool          Pool;
<a name="l00104"></a>00104     <span class="keyword">typedef</span> <a class="code" href="structIStdEncPredictor_1_1Prediction.html" title="Contains information about one predicted domain block.">IStdEncPredictor::Prediction</a>    Prediction;
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="keyword">public</span>:
<a name="l00108"></a><a class="code" href="structMStdEncoder_1_1RangeInfo.html">00108</a>     <span class="keyword">struct </span><a class="code" href="structMStdEncoder_1_1RangeInfo.html" title="Stores information about a range&amp;#39;s mapping, to be pointed by ISquareRanges::RangeNode...">RangeInfo</a>: <span class="keyword">public</span> RangeNode::EncoderData, <span class="keyword">public</span> Prediction {
<a name="l00109"></a>00109         <span class="keyword">struct </span>{
<a name="l00110"></a><a class="code" href="structMStdEncoder_1_1RangeInfo.html#af0158e4f3726a146a3ea39d6af77b9b">00110</a>             <a class="code" href="structBlock.html" title="A simple structure representing a rectangle.">Block</a> <a class="code" href="structMStdEncoder_1_1RangeInfo.html#af0158e4f3726a146a3ea39d6af77b9b" title="domain block&amp;#39;s position and size in its pool">domBlock</a>;     
<a name="l00111"></a><a class="code" href="structMStdEncoder_1_1RangeInfo.html#e34060e60522145df289cd0bb558d250">00111</a>             <span class="keyword">const</span> Pool *<a class="code" href="structMStdEncoder_1_1RangeInfo.html#e34060e60522145df289cd0bb558d250" title="the pool of the domain">pool</a>;   
<a name="l00112"></a>00112         } <a class="code" href="structMStdEncoder_1_1RangeInfo.html#de09927dbcf067ce8985ec021ff3691c" title="precomputed information about the domain (to accelerate)">decAccel</a>;     
<a name="l00113"></a>00113         
<a name="l00114"></a>00114         Real <a class="code" href="structMStdEncoder_1_1RangeInfo.html#a6a5c218cfb9fadae4c745e5db94fe26" title="quant-rounded target average of the block">qrAvg</a>      
<a name="l00115"></a><a class="code" href="structMStdEncoder_1_1RangeInfo.html#44eebb074901de9604cf4f6808540467">00115</a>         , <a class="code" href="structMStdEncoder_1_1RangeInfo.html#44eebb074901de9604cf4f6808540467" title="quant-rounded target variance of the block">qrDev2</a>;       
<a name="l00116"></a><a class="code" href="structMStdEncoder_1_1RangeInfo.html#a71062f3d7719fd16d41bff1d1d4bf9c">00116</a>         <span class="keywordtype">bool</span> <a class="code" href="structMStdEncoder_1_1RangeInfo.html#a71062f3d7719fd16d41bff1d1d4bf9c" title="indicates whether the linear coefficient is negative">inverted</a>;  
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="preprocessor">        #ifndef NDEBUG</span>
<a name="l00119"></a>00119 <span class="preprocessor"></span>        <span class="keyword">struct </span>{
<a name="l00120"></a>00120             Real avg, dev2, constCoeff, linCoeff;
<a name="l00121"></a>00121         } exact;
<a name="l00122"></a>00122 <span class="preprocessor">        #endif</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span>        
<a name="l00125"></a><a class="code" href="structMStdEncoder_1_1RangeInfo.html#b6f157e8ccce3cc4a7c92e922f0adfa7">00125</a>         <span class="keyword">static</span> <a class="code" href="structMStdEncoder_1_1RangeInfo.html" title="Stores information about a range&amp;#39;s mapping, to be pointed by ISquareRanges::RangeNode...">RangeInfo</a>* <span class="keyword">get</span>(RangeNode *range) {
<a name="l00126"></a>00126             <a class="code" href="structMStdEncoder_1_1RangeInfo.html" title="Stores information about a range&amp;#39;s mapping, to be pointed by ISquareRanges::RangeNode...">RangeInfo</a> *result= <span class="keyword">static_cast&lt;</span><a class="code" href="structMStdEncoder_1_1RangeInfo.html" title="Stores information about a range&amp;#39;s mapping, to be pointed by ISquareRanges::RangeNode...">RangeInfo</a>*<span class="keyword">&gt;</span>(range-&gt;encoderData);
<a name="l00127"></a>00127             ASSERT(result);
<a name="l00128"></a>00128             <span class="keywordflow">return</span> result;
<a name="l00129"></a>00129         }
<a name="l00130"></a>00130         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structMStdEncoder_1_1RangeInfo.html" title="Stores information about a range&amp;#39;s mapping, to be pointed by ISquareRanges::RangeNode...">RangeInfo</a>* <span class="keyword">get</span>(<span class="keyword">const</span> RangeNode *range)
<a name="l00131"></a>00131             { <span class="keywordflow">return</span> <span class="keyword">get</span>(<a class="code" href="util_8h.html#7dcbfa1a47034c99f2e76ea4ffa8700a" title="Automatic version of const_cast for pointers.">constCast</a>(range)); }
<a name="l00132"></a>00132     };
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <span class="keyword">protected</span>:
<a name="l00135"></a>00135 <span class="comment">//  Module's data</span>
<a name="l00136"></a><a class="code" href="classMStdEncoder.html#78fd4c985ea6742234c17b4b536011dc">00136</a>     PlaneBlock *<a class="code" href="classMStdEncoder.html#78fd4c985ea6742234c17b4b536011dc" title="Pointer to the block to encode/decode.">planeBlock</a>;         
<a name="l00137"></a><a class="code" href="classMStdEncoder.html#04d0c3363d57c2d7f51d9ad2b6d5ef1d">00137</a>     std::vector&lt;float&gt; <a class="code" href="classMStdEncoder.html#04d0c3363d57c2d7f51d9ad2b6d5ef1d" title="Caches the result of IQuality2SE::regularRangeErrors.">stdRangeSEs</a>; 
<a name="l00138"></a><a class="code" href="classMStdEncoder.html#2914c2a27d49ecd4cca26e59e739026b">00138</a>     <a class="code" href="structISquareEncoder.html#890b1dc8f7cc4296d7dace454ae30204" title="[level][pool] -&amp;gt; LevelPoolInfo (the levels are zoomed).">LevelPoolInfos</a> <a class="code" href="classMStdEncoder.html#2914c2a27d49ecd4cca26e59e739026b" title="see LevelPoolInfos, only initialized for used levels">levelPoolInfos</a>;  
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 <span class="keyword">protected</span>:
<a name="l00141"></a>00141 <span class="comment">//  Construction and destruction</span>
<a name="l00143"></a><a class="code" href="classMStdEncoder.html#2ccea0655a9b2b9b8d58e05f23f8b87b">00143</a> <span class="comment"></span>    <a class="code" href="classMStdEncoder.html#2ccea0655a9b2b9b8d58e05f23f8b87b" title="Only initializes planeBlock to zero.">MStdEncoder</a>(): planeBlock(0) {}
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <span class="keyword">public</span>:
<a name="l00148"></a>00148     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#72466f7488c16a9eeac821604fe8b833" title="Initializes the module for encoding or decoding of a PlaneBlock.">initialize</a>( <a class="code" href="structIRoot.html#b0f523cc6c5db940bd9965a3c8071489" title="The root can be in any of these modes.">IRoot::Mode</a> mode, PlaneBlock &amp;planeBlock_ );
<a name="l00149"></a>00149     <span class="keywordtype">float</span> <a class="code" href="classMStdEncoder.html#8251de54872254fed99bfb29645a215c" title="Finds mapping with the best square error for a range (returns the SE), data neccessary...">findBestSE</a>(<span class="keyword">const</span> RangeNode &amp;range,<span class="keywordtype">bool</span> allowHigherSE);
<a name="l00150"></a><a class="code" href="classMStdEncoder.html#41b69eb5b375766c298270859b505e1f">00150</a>     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#41b69eb5b375766c298270859b505e1f" title="Finishes encoding - to be ready for saving or decoding (can do some cleanup).">finishEncoding</a>() {
<a name="l00151"></a>00151         <a class="code" href="classMStdEncoder.html#c3c9ec39052452c730dcc666ab5dacff" title="Initializes decoding accelerators (in RangeInfo) for all range blocks.">initRangeInfoAccelerators</a>();    <span class="comment">// prepare for saving/decoding</span>
<a name="l00152"></a>00152         modulePredictor()-&gt;<a class="code" href="structIStdEncPredictor.html#6a270c28c1fd901c577817db059183f2" title="Releases common resources (to be called when encoding is complete).">cleanUp</a>();   <span class="comment">// free unneccesary memory of the predictor</span>
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#f51101a2f9aaea188435e4d116bdb982" title="Performs a decoding action.">decodeAct</a>( DecodeAct action, <span class="keywordtype">int</span> count=1 );
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#9ec474c27550cb9c58159cba0a40c084" title="Write all settings needed for reconstruction (don&amp;#39;t depend on encoded thing)...">writeSettings</a>(std::ostream &amp;file);
<a name="l00157"></a>00157     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#ffa5e17525037f968ac3624071361520" title="Read all settings, opposite to writeSettings.">readSettings</a>(std::istream &amp;file);
<a name="l00158"></a>00158 
<a name="l00159"></a><a class="code" href="classMStdEncoder.html#b7a850bd035d8ea2c4f4dab05b408ed0">00159</a>     <span class="keywordtype">int</span> <a class="code" href="classMStdEncoder.html#b7a850bd035d8ea2c4f4dab05b408ed0" title="Returns the number of phases (progressive encoding), only depends on settings.">phaseCount</a>()<span class="keyword"> const</span>
<a name="l00160"></a>00160 <span class="keyword">        </span>{ <span class="keywordflow">return</span> 3; }
<a name="l00161"></a>00161     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#b9c8afd7abd37a25eaab919ef1ce2b42" title="Write one phase of data needed for reconstruction (excluding settings).">writeData</a>(std::ostream &amp;file,<span class="keywordtype">int</span> phase);
<a name="l00162"></a>00162     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#ccc7854aa0b42d1817d400a1dc46bf66" title="Reads one phase of data needed for recostruction, assumes the settings have been...">readData</a>(std::istream &amp;file,<span class="keywordtype">int</span> phase);
<a name="l00164"></a>00164 <span class="keyword">protected</span>:
<a name="l00166"></a>00166     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#49ac4caa839239919fc0e26b2300bfa6" title="Builds levelPoolInfos[level], uses planeBlock-&amp;gt;domains.">buildPoolInfos4aLevel</a>(<span class="keywordtype">int</span> level);
<a name="l00168"></a>00168     <span class="keywordtype">void</span> <a class="code" href="classMStdEncoder.html#c3c9ec39052452c730dcc666ab5dacff" title="Initializes decoding accelerators (in RangeInfo) for all range blocks.">initRangeInfoAccelerators</a>();
<a name="l00169"></a>00169 
<a name="l00172"></a>00172     <span class="keyword">static</span> <span class="keyword">const</span> Pool&amp; <a class="code" href="classMStdEncoder.html#3a5458e7264262d41b780f17dfa84fff" title="Considers a domain on a level number domIndex (in pools and poolInfos) and sets block...">getDomainData</a>
<a name="l00173"></a>00173     ( <span class="keyword">const</span> RangeNode &amp;rangeBlock, <span class="keyword">const</span> <a class="code" href="structISquareDomains.html#45c376d77fceab3d7b7db33d759976f2" title="List of pools.">ISquareDomains::PoolList</a> &amp;pools
<a name="l00174"></a>00174     , <span class="keyword">const</span> PoolInfos &amp;poolInfos, <span class="keywordtype">int</span> domIndex, <span class="keywordtype">int</span> zoom, <a class="code" href="structBlock.html" title="A simple structure representing a rectangle.">Block</a> &amp;block );
<a name="l00175"></a>00175 
<a name="l00177"></a>00177     <span class="keyword">static</span> PoolInfos::const_iterator <a class="code" href="classMStdEncoder.html#93596feb53db6e9c77e5c461b1a8f678" title="Return iterator to the pool of domain with index domID.">getPoolFromDomID</a>( <span class="keywordtype">int</span> domID, <span class="keyword">const</span> PoolInfos &amp;poolInfos );
<a name="l00178"></a>00178 };
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="preprocessor">#endif // STDENCODER_HEADER_</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Aug 6 22:33:14 2009 for Fractal Image Compressor by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
